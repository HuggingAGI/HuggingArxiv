# 本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。

发布时间：2024年04月16日

`Agent` `软件工程` `自动化测试`

> An Empirical Evaluation of Pre-trained Large Language Models for Repairing Declarative Formal Specifications

# 摘要

> 自动程序修复（APR）因其致力于自动修正程序错误而成为备受关注的实用研究领域。目前，APR 技术多集中于命令式语言如 C 和 Java，但对声明式软件规范语言的解决方案需求正日益上升。本论文对大型语言模型（LLMs）在修复 Alloy 语言声明式规范方面的能力进行了深入探讨，Alloy 是一种广泛用于软件规范的声明式形式化语言。我们设计了一套创新的修复流程，融合了双代理 LLM 架构，涵盖修复代理与提示代理。经过广泛的实证评估，我们发现基于 LLM 的修复方法在修复效率上超越了现有的 Alloy APR 技术，尽管这以略微增加的运行时间和令牌使用为代价。本研究不仅推动了声明式规范自动修复技术的发展，也突显了 LLMs 在该领域的光明前景。

> Automatic Program Repair (APR) has garnered significant attention as a practical research domain focused on automatically fixing bugs in programs. While existing APR techniques primarily target imperative programming languages like C and Java, there is a growing need for effective solutions applicable to declarative software specification languages. This paper presents a systematic investigation into the capacity of Large Language Models (LLMs) for repairing declarative specifications in Alloy, a declarative formal language used for software specification. We propose a novel repair pipeline that integrates a dual-agent LLM framework, comprising a Repair Agent and a Prompt Agent. Through extensive empirical evaluation, we compare the effectiveness of LLM-based repair with state-of-the-art Alloy APR techniques on a comprehensive set of benchmarks. Our study reveals that LLMs, particularly GPT-4 variants, outperform existing techniques in terms of repair efficacy, albeit with a marginal increase in runtime and token usage. This research contributes to advancing the field of automatic repair for declarative specifications and highlights the promising potential of LLMs in this domain.

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x1.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x2.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x3.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x4.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x5.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x6.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x7.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x8.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x9.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x10.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x11.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x12.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x13.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x14.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x15.png)

![本文通过实证研究，评估了预训练的大型语言模型在修复声明式形式规范方面的性能。](../../../paper_images/2404.11050/x16.png)

[Arxiv](https://arxiv.org/abs/2404.11050)