# OminiControl：针对扩散 Transformer 的极简且通用的控制

发布时间：2024年11月22日

`LLM应用` `图像生成` `多模态处理`

> OminiControl: Minimal and Universal Control for Diffusion Transformer

# 摘要

> 在本文中，我们为您介绍 OminiControl，这是一个极具通用性且参数高效的框架，能将图像条件融入预训练的 Diffusion Transformer（DiT）模型。OminiControl 的核心在于利用参数复用机制，让 DiT 以自身为强大骨干对图像条件进行编码，并通过其灵活的多模态注意力处理器来处理。不像现有方法那样严重依赖具有复杂架构的附加编码器模块，OminiControl （1）仅用约 0.1％的额外参数，就能有效且高效地整合注入的图像条件；（2）能以统一的方式处理众多图像条件任务，像主体驱动生成以及诸如边缘、深度等空间对齐条件。值得一提的是，这些能力是通过对 DiT 自身生成的图像进行训练达成的，这对主体驱动生成尤其有利。大量评估显示，在主体驱动和空间对齐的条件生成方面，OminiControl 都比现有的基于 UNet 和适应 DiT 的模型表现出色。另外，我们还发布了训练数据集 Subjects200K，这是一个包含超过 20 万张身份一致图像的多样化集合，还有一条高效的数据合成管道，以推动主体一致生成方面的研究。

> In this paper, we introduce OminiControl, a highly versatile and parameter-efficient framework that integrates image conditions into pre-trained Diffusion Transformer (DiT) models. At its core, OminiControl leverages a parameter reuse mechanism, enabling the DiT to encode image conditions using itself as a powerful backbone and process them with its flexible multi-modal attention processors. Unlike existing methods, which rely heavily on additional encoder modules with complex architectures, OminiControl (1) effectively and efficiently incorporates injected image conditions with only ~0.1% additional parameters, and (2) addresses a wide range of image conditioning tasks in a unified manner, including subject-driven generation and spatially-aligned conditions such as edges, depth, and more. Remarkably, these capabilities are achieved by training on images generated by the DiT itself, which is particularly beneficial for subject-driven generation. Extensive evaluations demonstrate that OminiControl outperforms existing UNet-based and DiT-adapted models in both subject-driven and spatially-aligned conditional generation. Additionally, we release our training dataset, Subjects200K, a diverse collection of over 200,000 identity-consistent images, along with an efficient data synthesis pipeline to advance research in subject-consistent generation.

[Arxiv](https://arxiv.org/abs/2411.15098)