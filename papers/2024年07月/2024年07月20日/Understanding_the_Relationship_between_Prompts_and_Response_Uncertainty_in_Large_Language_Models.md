# 探究大型语言模型中提示与响应不确定性之间的关联

发布时间：2024年07月20日

`LLM理论` `人工智能`

> Understanding the Relationship between Prompts and Response Uncertainty in Large Language Models

# 摘要

> LLM 在决策领域的应用广泛，但其可靠性，尤其是在医疗等关键任务中，尚未稳固。理解 LLM 的推理与决策过程对其安全应用至关重要。本文探讨了 LLM 响应的不确定性与输入提示信息之间的关系。基于 LLM 预训练中学习推断潜在概念的特性，我们构建了一个提示-响应概念模型，揭示了 LLM 响应生成机制，并阐明了提示与响应不确定性间的联系。实验表明，提示信息越丰富，响应的不确定性越低，这与认知不确定性相似。我们的实验结果在真实数据集上验证了这一模型的有效性。

> Large language models (LLMs) are widely used in decision-making, but their reliability, especially in critical tasks like healthcare, is not well-established. Therefore, understanding how LLMs reason and make decisions is crucial for their safe deployment. This paper investigates how the uncertainty of responses generated by LLMs relates to the information provided in the input prompt. Leveraging the insight that LLMs learn to infer latent concepts during pretraining, we propose a prompt-response concept model that explains how LLMs generate responses and helps understand the relationship between prompts and response uncertainty. We show that the uncertainty decreases as the prompt's informativeness increases, similar to epistemic uncertainty. Our detailed experimental results on real datasets validate our proposed model.

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/model.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/total_std_gpt-4-0613.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/total_std_gpt3.5-turbo.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/Normalized_Predictive_Entropy.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_masked_short_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_corrupted_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_prepend_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_append_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_insert_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/accuracy_medqa_v2.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/empirical_entropy_medqa_v2.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/compositionality.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/uncertainty_gpt35_insert_semantically_meaningful_strings.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/state_chain.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_masked_short_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_masked_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_corrupted_short_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_corrupted_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_prepend_short_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_prepend_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_append_short_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_append_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_insert_short_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/noise_insert_long_string_updated.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/simulation_illustration.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/gamma.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/p.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/d.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_farsighted_under.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_myopic_under.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_overconfident_under.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_underconfident_under.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_stubborn_under.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_farsighted_more.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_myopic_more.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_overconfident_more.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_underconfident_more.png)

![探究大型语言模型中提示与响应不确定性之间的关联](../../../paper_images/2407.14845/policy_evo_stubborn_more.png)

[Arxiv](https://arxiv.org/abs/2407.14845)